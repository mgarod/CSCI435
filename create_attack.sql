-- Questions:
-- How many times has player X lost?
-- What is the win rate of player X?
-- Who is the player with the most wins? Least wins?
-- What country has player X most often won?
-- In what month did the most attacks take place?

CREATE TABLE Attack(
	attacker_id NUMBER NOT NULL,
	defender_id NUMBER NOT NULL,
	location VARCHAR2(30),
	time timestamp(0) NOT NULL,
	victor_id NUMBER NOT NULL,
	CONSTRAINT pk_attack
		PRIMARY KEY (attacker_id, defender_id, time),
	CONSTRAINT fk_attacker
		FOREIGN KEY (attacker_id)
		REFERENCES Player (player_id)
		ON DELETE CASCADE,
	CONSTRAINT fk_defender
		FOREIGN KEY (defender_id)
		REFERENCES Player (player_id)
		ON DELETE CASCADE
);

INSERT INTO ATTACK VALUES(1001, 1005, 'Egypt',
	 TO_TIMESTAMP('2015-10-7 22:37:52', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1005, 'Madagascar',
	 TO_TIMESTAMP('2015-1-25 13:46:2', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1003, 'North Korea',
	 TO_TIMESTAMP('2015-12-2 2:46:41', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1001, 1010, 'Venezuela',
	 TO_TIMESTAMP('2015-2-1 4:58:16', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1004, 'Taiwan',
	 TO_TIMESTAMP('2015-1-10 12:52:3', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1009, 'Croatia',
	 TO_TIMESTAMP('2015-5-27 15:56:45', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1001, 1008, 'Philippines',
	 TO_TIMESTAMP('2015-10-22 0:2:3', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1001, 1007, 'Philippines',
	 TO_TIMESTAMP('2015-9-21 3:15:7', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1002, 1008, 'Madagascar',
	 TO_TIMESTAMP('2015-2-16 8:43:9', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1001, 'Ukraine',
	 TO_TIMESTAMP('2015-6-9 20:13:20', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1005, 'Russia',
	 TO_TIMESTAMP('2015-10-15 2:17:37', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1010, 'Mexico',
	 TO_TIMESTAMP('2015-12-25 7:38:54', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1002, 1010, 'Laos',
	 TO_TIMESTAMP('2015-11-11 8:0:4', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1002, 1003, 'Afghanistan',
	 TO_TIMESTAMP('2015-7-20 7:32:16', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1004, 'Nicaragua',
	 TO_TIMESTAMP('2015-2-16 23:13:23', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1002, 1003, 'Madagascar',
	 TO_TIMESTAMP('2015-4-12 5:8:3', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1003, 'Ukraine',
	 TO_TIMESTAMP('2015-6-4 0:5:7', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1004, 'Nigeria',
	 TO_TIMESTAMP('2015-11-23 13:0:40', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1003, 1005, 'Ukraine',
	 TO_TIMESTAMP('2015-1-10 14:5:49', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1007, 'Libya',
	 TO_TIMESTAMP('2015-7-25 0:38:23', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1003, 1007, 'Russia',
	 TO_TIMESTAMP('2015-4-13 13:60:22', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1003, 1001, 'Laos',
	 TO_TIMESTAMP('2015-12-16 11:2:47', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1003, 1001, 'Taiwan',
	 TO_TIMESTAMP('2015-9-25 10:33:41', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1001, 'Afghanistan',
	 TO_TIMESTAMP('2015-12-17 15:43:47', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1005, 'Madagascar',
	 TO_TIMESTAMP('2015-10-22 2:23:10', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1003, 1009, 'Armenia',
	 TO_TIMESTAMP('2015-11-16 23:17:27', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1004, 1007, 'Croatia',
	 TO_TIMESTAMP('2015-5-26 7:58:44', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1004, 1001, 'Turkey',
	 TO_TIMESTAMP('2015-7-20 16:46:8', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1004, 1006, 'Azerbaijan',
	 TO_TIMESTAMP('2015-11-11 21:48:13', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1009, 'Libya',
	 TO_TIMESTAMP('2015-4-4 15:10:18', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1004, 1007, 'Ukraine',
	 TO_TIMESTAMP('2015-5-9 16:12:39', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1009, 'Laos',
	 TO_TIMESTAMP('2015-11-13 10:23:32', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1002, 'Somalia',
	 TO_TIMESTAMP('2015-11-4 14:22:48', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1006, 'Nicaragua',
	 TO_TIMESTAMP('2015-12-12 23:52:37', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1004, 1009, 'Taiwan',
	 TO_TIMESTAMP('2015-6-25 0:42:22', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1004, 1006, 'Venezuela',
	 TO_TIMESTAMP('2015-7-22 4:16:3', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1004, 1008, 'Armenia',
	 TO_TIMESTAMP('2015-7-10 6:18:42', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1001, 'Indonesia',
	 TO_TIMESTAMP('2015-1-14 14:39:3', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1007, 'Colombia',
	 TO_TIMESTAMP('2015-1-8 10:41:14', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1008, 'Libya',
	 TO_TIMESTAMP('2015-4-13 0:38:36', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1004, 1005, 'Azerbaijan',
	 TO_TIMESTAMP('2015-3-21 22:26:3', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1005, 1008, 'Armenia',
	 TO_TIMESTAMP('2015-10-17 8:55:51', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1009, 'Laos',
	 TO_TIMESTAMP('2015-4-11 0:60:20', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1003, 'Croatia',
	 TO_TIMESTAMP('2015-12-16 5:48:8', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1005, 1009, 'Croatia',
	 TO_TIMESTAMP('2015-8-21 6:27:48', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1005, 1002, 'Armenia',
	 TO_TIMESTAMP('2015-5-18 10:54:46', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1008, 'Laos',
	 TO_TIMESTAMP('2015-6-26 13:29:3', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1004, 'Egypt',
	 TO_TIMESTAMP('2015-11-2 11:21:40', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1006, 'Nigeria',
	 TO_TIMESTAMP('2015-11-14 21:31:7', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1005, 1001, 'Nicaragua',
	 TO_TIMESTAMP('2015-5-16 8:50:2', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1005, 1003, 'Afghanistan',
	 TO_TIMESTAMP('2015-8-2 16:13:20', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1009, 'Afghanistan',
	 TO_TIMESTAMP('2015-4-1 20:28:44', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1004, 'Venezuela',
	 TO_TIMESTAMP('2015-5-9 22:0:52', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1005, 1008, 'North Korea',
	 TO_TIMESTAMP('2015-12-21 3:27:29', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1006, 1008, 'Turkey',
	 TO_TIMESTAMP('2015-5-14 19:40:53', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1002, 'Afghanistan',
	 TO_TIMESTAMP('2015-4-11 9:20:56', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1006, 1008, 'Afghanistan',
	 TO_TIMESTAMP('2015-12-25 17:53:18', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1004, 'Russia',
	 TO_TIMESTAMP('2015-1-6 6:20:32', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1006, 1005, 'Croatia',
	 TO_TIMESTAMP('2015-4-23 11:40:24', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1005, 'Mexico',
	 TO_TIMESTAMP('2015-8-20 11:18:41', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1006, 1010, 'Colombia',
	 TO_TIMESTAMP('2015-7-9 1:35:23', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1005, 'Somalia',
	 TO_TIMESTAMP('2015-3-7 15:3:27', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1007, 1005, 'Libya',
	 TO_TIMESTAMP('2015-12-3 18:15:8', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1007, 1009, 'Libya',
	 TO_TIMESTAMP('2015-1-22 21:48:35', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1007, 1003, 'Armenia',
	 TO_TIMESTAMP('2015-7-10 14:0:53', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1002, 'Turkey',
	 TO_TIMESTAMP('2015-10-3 18:43:10', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1008, 'Ukraine',
	 TO_TIMESTAMP('2015-3-22 6:8:27', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1008, 'Nigeria',
	 TO_TIMESTAMP('2015-9-13 18:12:11', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1007, 1002, 'Laos',
	 TO_TIMESTAMP('2015-7-22 23:57:2', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1007, 1005, 'Venezuela',
	 TO_TIMESTAMP('2015-9-6 21:39:55', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1007, 1010, 'Afghanistan',
	 TO_TIMESTAMP('2015-2-20 20:7:18', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1007, 1001, 'Croatia',
	 TO_TIMESTAMP('2015-10-2 19:53:16', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1009, 'Afghanistan',
	 TO_TIMESTAMP('2015-6-3 10:48:33', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1007, 1006, 'Croatia',
	 TO_TIMESTAMP('2015-12-23 8:34:19', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1010, 'Ukraine',
	 TO_TIMESTAMP('2015-4-6 15:8:32', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1009, 'Armenia',
	 TO_TIMESTAMP('2015-7-27 0:31:2', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1008, 1004, 'Azerbaijan',
	 TO_TIMESTAMP('2015-7-22 1:7:42', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1001, 'Azerbaijan',
	 TO_TIMESTAMP('2015-6-10 7:4:31', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1005, 'Ukraine',
	 TO_TIMESTAMP('2015-4-22 9:34:60', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1008, 1002, 'Taiwan',
	 TO_TIMESTAMP('2015-9-13 3:42:31', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1004, 'Madagascar',
	 TO_TIMESTAMP('2015-4-17 9:33:22', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1009, 'Laos',
	 TO_TIMESTAMP('2015-7-12 20:19:43', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1010, 'Croatia',
	 TO_TIMESTAMP('2015-6-20 12:46:38', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1004, 'Indonesia',
	 TO_TIMESTAMP('2015-4-16 3:51:25', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1009, 1003, 'Turkey',
	 TO_TIMESTAMP('2015-4-5 11:54:49', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1007, 'Madagascar',
	 TO_TIMESTAMP('2015-1-10 13:20:60', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1009, 1001, 'Ukraine',
	 TO_TIMESTAMP('2015-9-27 16:58:29', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1002, 'Turkey',
	 TO_TIMESTAMP('2015-2-2 2:32:8', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1009, 1001, 'Azerbaijan',
	 TO_TIMESTAMP('2015-1-26 22:32:42', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1002, 'North Korea',
	 TO_TIMESTAMP('2015-10-9 5:3:45', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1009, 1008, 'Mexico',
	 TO_TIMESTAMP('2015-1-7 20:28:1', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1007, 'Croatia',
	 TO_TIMESTAMP('2015-5-14 1:11:43', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1009, 1005, 'Taiwan',
	 TO_TIMESTAMP('2015-5-8 2:2:59', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1001, 'Taiwan',
	 TO_TIMESTAMP('2015-1-23 5:16:46', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1005, 'Indonesia',
	 TO_TIMESTAMP('2015-7-16 5:59:50', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1009, 1007, 'Russia',
	 TO_TIMESTAMP('2015-5-23 9:32:38', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1009, 1007, 'Nicaragua',
	 TO_TIMESTAMP('2015-3-4 5:4:3', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1010, 1009, 'Laos',
	 TO_TIMESTAMP('2015-10-14 10:33:15', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1002, 'Indonesia',
	 TO_TIMESTAMP('2015-8-5 13:18:5', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1010, 1005, 'Nicaragua',
	 TO_TIMESTAMP('2015-6-1 9:13:10', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1003, 'Russia',
	 TO_TIMESTAMP('2015-7-1 3:58:11', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1010, 1009, 'Mexico',
	 TO_TIMESTAMP('2015-8-7 10:12:25', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1005, 'Nicaragua',
	 TO_TIMESTAMP('2015-3-27 22:24:35', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1008, 'Colombia',
	 TO_TIMESTAMP('2015-3-13 1:60:0', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1010, 1007, 'Laos',
	 TO_TIMESTAMP('2015-7-22 6:16:60', 'YYYY-MM-DD HH24:MI:SS'), 1007);
