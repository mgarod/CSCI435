-- Questions:
-- How many times has player X lost?
-- What is the win rate of player X?
-- Who is the player with the most wins? Least wins?
-- What country has player X most often won?
-- In what month did the most attacks take place?

CREATE TABLE Attack(
	attacker_id NUMBER NOT NULL,
	defender_id NUMBER NOT NULL,
	time timestamp(0) NOT NULL,
	location VARCHAR2(30),
	victor_id NUMBER NOT NULL,
	CONSTRAINT pk_attack
		PRIMARY KEY (attacker_id, defender_id, time),
	CONSTRAINT fk_attacker
		FOREIGN KEY (attacker_id)
		REFERENCES Player (player_id)
		ON DELETE CASCADE,
	CONSTRAINT fk_defender
		FOREIGN KEY (defender_id)
		REFERENCES Player (player_id)
		ON DELETE CASCADE
);

INSERT INTO ATTACK VALUES(1001, 1002, 'Croatia',
	TO_TIMESTAMP('2016-01-01 18:10:15', 'YYYY-MM-DD HH24:MI:SS'), 1);
INSERT INTO ATTACK VALUES(1001, 1004, 'North Korea',
	 TO_TIMESTAMP('2015-11-8 22:22:43', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1002, 'North Korea',
	 TO_TIMESTAMP('2015-10-26 18:6:10', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1008, 'Colombia',
	 TO_TIMESTAMP('2015-6-27 21:53:28', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1006, 'Nigeria',
	 TO_TIMESTAMP('2015-8-3 2:22:17', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1002, 'Laos',
	 TO_TIMESTAMP('2015-12-6 14:12:58', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1001, 1003, 'Ukraine',
	 TO_TIMESTAMP('2015-4-21 3:24:54', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1002, 1003, 'Colombia',
	 TO_TIMESTAMP('2015-6-22 13:41:20', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1009, 'Ukraine',
	 TO_TIMESTAMP('2015-12-1 24:36:17', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1007, 'Laos',
	 TO_TIMESTAMP('2015-11-17 3:2:49', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1002, 1008, 'Croatia',
	 TO_TIMESTAMP('2015-11-25 13:35:46', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1002, 1009, 'Colombia',
	 TO_TIMESTAMP('2015-4-19 11:34:37', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1002, 1004, 'Laos',
	 TO_TIMESTAMP('2015-8-9 7:41:16', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1003, 1004, 'Colombia',
	 TO_TIMESTAMP('2015-11-22 4:30:17', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1007, 'Laos',
	 TO_TIMESTAMP('2015-10-13 10:58:56', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1008, 'Russia',
	 TO_TIMESTAMP('2015-5-11 10:37:47', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1003, 1006, 'Nicaragua',
	 TO_TIMESTAMP('2015-5-24 7:35:12', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1003, 1010, 'Croatia',
	 TO_TIMESTAMP('2015-1-21 7:27:46', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1010, 'Nigeria',
	 TO_TIMESTAMP('2015-2-27 8:16:55', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1003, 1005, 'Nigeria',
	 TO_TIMESTAMP('2015-7-27 2:53:7', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1003, 1008, 'North Korea',
	 TO_TIMESTAMP('2015-4-24 11:19:19', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1004, 1003, 'Laos',
	 TO_TIMESTAMP('2015-6-27 1:53:5', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1004, 1008, 'Croatia',
	 TO_TIMESTAMP('2015-10-9 5:50:14', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1003, 'Turkey',
	 TO_TIMESTAMP('2015-12-8 16:60:9', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1004, 1009, 'Croatia',
	 TO_TIMESTAMP('2015-7-13 9:46:20', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1005, 'Ukraine',
	 TO_TIMESTAMP('2015-6-7 19:57:25', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1001, 'Russia',
	 TO_TIMESTAMP('2015-7-23 6:42:0', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1004, 1009, 'North Korea',
	 TO_TIMESTAMP('2015-5-24 3:33:4', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1005, 1010, 'Colombia',
	 TO_TIMESTAMP('2015-1-18 3:49:21', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1005, 1006, 'Colombia',
	 TO_TIMESTAMP('2015-7-2 12:45:29', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1010, 'Laos',
	 TO_TIMESTAMP('2015-2-18 17:44:11', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1005, 1008, 'Croatia',
	 TO_TIMESTAMP('2015-6-7 6:4:13', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1005, 1002, 'Laos',
	 TO_TIMESTAMP('2015-12-26 8:19:35', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1005, 1002, 'Ukraine',
	 TO_TIMESTAMP('2015-10-10 4:26:26', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1006, 1010, 'North Korea',
	 TO_TIMESTAMP('2015-1-21 9:25:54', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1006, 1001, 'Nigeria',
	 TO_TIMESTAMP('2015-5-8 21:43:60', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1006, 1009, 'Colombia',
	 TO_TIMESTAMP('2015-2-6 3:33:8', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1006, 1003, 'Russia',
	 TO_TIMESTAMP('2015-7-13 3:21:20', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1006, 1003, 'Laos',
	 TO_TIMESTAMP('2015-2-2 23:0:26', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1006, 1008, 'Nicaragua',
	 TO_TIMESTAMP('2015-8-16 0:58:38', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1006, 1003, 'Colombia',
	 TO_TIMESTAMP('2015-7-5 4:33:16', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1007, 'Turkey',
	 TO_TIMESTAMP('2015-12-26 18:22:10', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1006, 1009, 'Laos',
	 TO_TIMESTAMP('2015-2-22 7:22:27', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1007, 1008, 'Ukraine',
	 TO_TIMESTAMP('2015-4-4 7:9:28', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1007, 1010, 'Russia',
	 TO_TIMESTAMP('2015-4-25 23:5:21', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1008, 'Nicaragua',
	 TO_TIMESTAMP('2015-2-7 13:17:7', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1009, 'Nicaragua',
	 TO_TIMESTAMP('2015-2-22 5:1:15', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1006, 'North Korea',
	 TO_TIMESTAMP('2015-2-14 12:29:34', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1001, 'Laos',
	 TO_TIMESTAMP('2015-11-12 15:31:43', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1010, 'Turkey',
	 TO_TIMESTAMP('2015-12-23 3:26:42', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1007, 1006, 'Nicaragua',
	 TO_TIMESTAMP('2015-11-13 10:20:53', 'YYYY-MM-DD HH24:MI:SS'), 1006);
INSERT INTO ATTACK VALUES(1007, 1002, 'Nigeria',
	 TO_TIMESTAMP('2015-5-9 11:49:29', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1007, 1009, 'North Korea',
	 TO_TIMESTAMP('2015-12-19 7:24:52', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1007, 1003, 'Turkey',
	 TO_TIMESTAMP('2015-1-19 10:25:5', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1008, 1005, 'Turkey',
	 TO_TIMESTAMP('2015-4-17 6:36:4', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1001, 'North Korea',
	 TO_TIMESTAMP('2015-1-9 0:4:60', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1001, 'Laos',
	 TO_TIMESTAMP('2015-12-7 0:26:27', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1005, 'Croatia',
	 TO_TIMESTAMP('2015-7-19 13:16:52', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1008, 1003, 'Nicaragua',
	 TO_TIMESTAMP('2015-4-11 11:22:16', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1004, 'Turkey',
	 TO_TIMESTAMP('2015-2-25 12:30:23', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1008, 1005, 'Turkey',
	 TO_TIMESTAMP('2015-5-3 7:35:21', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1008, 1003, 'North Korea',
	 TO_TIMESTAMP('2015-6-13 23:58:53', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1008, 1007, 'Russia',
	 TO_TIMESTAMP('2015-2-22 17:3:12', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1008, 1007, 'Croatia',
	 TO_TIMESTAMP('2015-11-13 1:2:1', 'YYYY-MM-DD HH24:MI:SS'), 1007);
INSERT INTO ATTACK VALUES(1009, 1005, 'North Korea',
	 TO_TIMESTAMP('2015-12-4 24:46:24', 'YYYY-MM-DD HH24:MI:SS'), 1005);
INSERT INTO ATTACK VALUES(1009, 1004, 'Laos',
	 TO_TIMESTAMP('2015-12-2 15:44:31', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1001, 'Laos',
	 TO_TIMESTAMP('2015-11-26 0:18:56', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1002, 'Colombia',
	 TO_TIMESTAMP('2015-2-27 7:9:4', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1009, 1003, 'Colombia',
	 TO_TIMESTAMP('2015-11-14 1:16:43', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1004, 'Croatia',
	 TO_TIMESTAMP('2015-9-21 22:56:24', 'YYYY-MM-DD HH24:MI:SS'), 1004);
INSERT INTO ATTACK VALUES(1009, 1001, 'Turkey',
	 TO_TIMESTAMP('2015-3-15 20:49:31', 'YYYY-MM-DD HH24:MI:SS'), 1001);
INSERT INTO ATTACK VALUES(1009, 1010, 'Colombia',
	 TO_TIMESTAMP('2015-11-10 17:16:54', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1009, 1002, 'Nicaragua',
	 TO_TIMESTAMP('2015-6-10 19:53:39', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1010, 1006, 'Croatia',
	 TO_TIMESTAMP('2015-12-12 16:23:34', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1002, 'Nigeria',
	 TO_TIMESTAMP('2015-9-5 24:13:57', 'YYYY-MM-DD HH24:MI:SS'), 1002);
INSERT INTO ATTACK VALUES(1010, 1002, 'Nicaragua',
	 TO_TIMESTAMP('2015-7-13 11:34:23', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1008, 'Nicaragua',
	 TO_TIMESTAMP('2015-6-21 18:7:2', 'YYYY-MM-DD HH24:MI:SS'), 1008);
INSERT INTO ATTACK VALUES(1010, 1009, 'Colombia',
	 TO_TIMESTAMP('2015-12-10 24:52:9', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1010, 1003, 'North Korea',
	 TO_TIMESTAMP('2015-7-2 12:23:11', 'YYYY-MM-DD HH24:MI:SS'), 1003);
INSERT INTO ATTACK VALUES(1010, 1006, 'Croatia',
	 TO_TIMESTAMP('2015-10-11 6:48:8', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1008, 'Turkey',
	 TO_TIMESTAMP('2015-3-1 5:58:47', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1009, 'Russia',
	 TO_TIMESTAMP('2015-8-23 19:26:8', 'YYYY-MM-DD HH24:MI:SS'), 1009);
INSERT INTO ATTACK VALUES(1010, 1003, 'Croatia',
	 TO_TIMESTAMP('2015-6-5 8:47:56', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1008, 'North Korea',
	 TO_TIMESTAMP('2015-7-20 3:25:31', 'YYYY-MM-DD HH24:MI:SS'), 1010);
INSERT INTO ATTACK VALUES(1010, 1004, 'Croatia',
	 TO_TIMESTAMP('2015-2-15 3:46:31', 'YYYY-MM-DD HH24:MI:SS'), 1010);
